"use strict";(self.webpackChunkbuhetalon_3=self.webpackChunkbuhetalon_3||[]).push([[175],{3823:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},5855:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,".ql-editor{min-height:200px;font-size:16px;font-style:normal}","",{version:3,sources:["webpack://./src/components/admin/CreateNews/CreateNews.scss"],names:[],mappings:"AAAA,WACE,gBAAA,CACA,cAAA,CACA,iBAAA",sourcesContent:[".ql-editor {\n  min-height: 200px;\n  font-size: 16px;\n  font-style: normal;\n}\n"],sourceRoot:""}]);const i=o},2198:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},1562:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},1033:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},8641:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},6061:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},1762:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},1483:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},5584:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},761:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},3301:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},8357:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},4013:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},7501:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},6851:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,".ql-editor{min-height:200px;font-size:16px;font-style:normal}","",{version:3,sources:["webpack://./src/components/shared/Editor/Editor.scss"],names:[],mappings:"AAAA,WACI,gBAAA,CACA,cAAA,CACA,iBAAA",sourcesContent:[".ql-editor {\n    min-height: 200px;\n    font-size: 16px;\n    font-style: normal;\n}\n  "],sourceRoot:""}]);const i=o},5029:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7537),l=n.n(r),a=n(3645),o=n.n(a)()(l());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const i=o},6175:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Gt});var r=n(7294),l=n(9250),a=n(3379),o=n.n(a),i=n(7795),c=n.n(i),u=n(569),s=n.n(u),m=n(3565),f=n.n(m),d=n(9216),h=n.n(d),E=n(4589),Z=n.n(E),p=n(3823),g={};g.styleTagTransform=Z(),g.setAttributes=f(),g.insert=s().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=h(),o()(p.Z,g),p.Z&&p.Z.locals&&p.Z.locals;var v=n(5725),y=n(6720),b=n(1508),S=n(2658),C=n(2440),x=n(5834),w=n(8584),A=n(1079),k=n(3540),P=n(8554),T=n(3953),W=(0,r.createContext)({isAuthenticated:null,logIn:function(){return Promise.reject({})},logOut:function(){}}),I=function(){return(0,r.useContext)(W)},j=function(e){var t=e.firebaseApp,n=e.children,l=(0,r.useState)(null),a=l[0],o=l[1],i=(0,r.useState)(null),c=i[0],u=i[1],s=(0,r.useState)((0,P.v0)(t))[0];return(0,r.useEffect)((function(){s.onAuthStateChanged((function(e){e?function(e){return t=void 0,n=void 0,l=function(){var t;return function(e,t){var n,r,l,a,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(l=2&i[0]?r.return:i[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,i[1])).done)return l;switch(r=0,l&&(i=[2&i[0],l.value]),i[0]){case 0:case 1:l=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((l=(l=o.trys).length>0&&l[l.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!l||i[1]>l[0]&&i[1]<l[3])){o.label=i[1];break}if(6===i[0]&&o.label<l[1]){o.label=l[1],l=i;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(i);break}l[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=l=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return t=(0,T.ad)(e),[4,(0,T.QT)((0,T.JU)(t,"/internal/auth"))];case 1:return[2,n.sent()]}}))},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{c(l.next(e))}catch(e){a(e)}}function i(e){try{c(l.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,i)}c((l=l.apply(t,n||[])).next())}));var t,n,r,l}(t).then((function(){u(!0),o(e)})).catch((function(e){console.error(e),u(!1),o(null),(0,P.w7)(s)})):(u(!1),o(null))}))}),[]),console.log(a),r.createElement(W.Provider,{value:{isAuthenticated:c,user:a,logIn:function(e,t,n){return(n?s.setPersistence(P.a$):s.setPersistence(P.BV)).then((function(){o(null),u(null)})).then((function(){return(0,P.e5)(s,e,t)})).then((function(e){return e})).catch((function(e){throw e}))},logOut:function(){return(0,P.w7)(s)}}},n)};const z=function(){var e=(0,l.s0)(),t=I().logOut;return r.createElement(v.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"stretch",sx:{minHeight:"100vh",width:"100%"}},r.createElement(v.ZP,{item:!0,component:"header"},r.createElement(y.ZP,null),r.createElement(b.Z,{component:"nav",bgcolor:"primary.main",sx:{px:1,py:1,display:"flex"},color:"white"},r.createElement(v.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",sx:{maxWidth:"1280px",margin:"0 auto"}},r.createElement(v.ZP,{item:!0},r.createElement(S.Z,{variant:"h6",component:"div",sx:{flex:"auto"}},"БухЭталонЪ - Админка")),r.createElement(v.ZP,{item:!0},r.createElement(C.Z,{sx:{display:"flex",gap:"20px"}},r.createElement(x.Z,{onClick:function(){return e("/admin/price")}},r.createElement(w.Z,{primary:"Прайсы"})),r.createElement(x.Z,{onClick:function(){return e("/admin/tariff")}},r.createElement(w.Z,{primary:"Тарифы"})),r.createElement(x.Z,{onClick:function(){return e("/admin/news")}},r.createElement(w.Z,{primary:"Новости"})),r.createElement(x.Z,{onClick:function(){return e("/admin/settings")}},r.createElement(w.Z,{primary:"Настройки"})),r.createElement(x.Z,{sx:{display:"flex",gap:"10px"},onClick:function(){return t()}},r.createElement(w.Z,{primary:"Выйти"}),r.createElement(k.Z,{color:"inherit"}))))))),r.createElement(v.ZP,{item:!0,sx:{flex:"auto"},component:"main"},r.createElement(b.Z,{sx:{maxWidth:"1280px",margin:"0 auto"}},r.createElement(l.j3,null))),r.createElement(v.ZP,{item:!0,component:"footer",sx:{backgroundColor:"#eee",p:6}},r.createElement(S.Z,{variant:"body2",color:"text.secondary",align:"center"},"Copyright © ",r.createElement(A.Z,{color:"inherit",href:"/"},"buhetalon.ru")," ",(new Date).getFullYear(),".")))};var O=n(4102),q=n(7109),D=n(6675),R=n(542),M=n(4212),F=n(6914),V=n(3845),B=n(9617),J=n(9164),U=function(){var e=new Date,t=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear().toString();return"".concat(r,"-").concat(n,"-").concat(t)},H=n(1033),N={};N.styleTagTransform=Z(),N.setAttributes=f(),N.insert=s().bind(null,"head"),N.domAPI=c(),N.insertStyleElement=h(),o()(H.Z,N),H.Z&&H.Z.locals&&H.Z.locals;var _=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},_.apply(this,arguments)};function G(e){return r.createElement(S.Z,_({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright © ",r.createElement(A.Z,{color:"inherit",href:"/"},"БухЭталонЪ")," ",(new Date).getFullYear(),".")}function L(e,t){switch(t.type){case"change":return _(_({},e),{error:!1,helper:"",value:t.value});case"error":return _(_({},e),{error:!0,helper:t.value});default:throw new Error}}var Y=(0,B.Z)();function Q(){var e=(0,l.s0)(),t=(0,l.TH)(),n=I().logIn,a=(0,r.useState)(""),o=a[0],i=a[1],c=(0,r.useReducer)(L,{name:"email",value:""}),u=c[0],s=c[1],m=(0,r.useReducer)(L,{name:"password",value:""}),f=m[0],d=m[1],h=(0,r.useState)(!1),E=h[0],Z=h[1];return console.log(E),r.createElement(J.Z,{theme:Y},r.createElement(O.Z,{component:"main",maxWidth:"xs"},r.createElement(y.ZP,null),r.createElement(b.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(q.Z,{sx:{m:1,bgcolor:"secondary.main"}},r.createElement(V.Z,null)),r.createElement(S.Z,{component:"h1",variant:"h5"},"Войти"),o&&r.createElement(S.Z,{variant:"subtitle2",color:"error",sx:{m:2}},o),r.createElement(b.Z,{component:"form",onSubmit:function(r){var l;r.preventDefault(),l=u.value,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(l).toLowerCase())||s({type:"error",value:"Введите корректный email"}),f.value.length<6&&d({type:"error",value:"Длинна пароля меньше 6-ти символов"}),n(u.value,f.value,E).then((function(){var n;return e((null===(n=t.state)||void 0===n?void 0:n.from)||"home")})).catch((function(e){return i((null==e?void 0:e.message)||"error")}))},noValidate:!0,sx:{mt:1}},r.createElement(D.Z,{margin:"normal",required:!0,fullWidth:!0,variant:"outlined",label:u.name,name:u.name,value:u.value,onChange:function(e){return s({type:"change",value:e.target.value})},error:!!u.error,helperText:u.helper,autoFocus:!0}),r.createElement(D.Z,{margin:"normal",required:!0,fullWidth:!0,type:"password",variant:"outlined",label:f.name,name:f.name,value:f.value,onChange:function(e){return d({type:"change",value:e.target.value})},error:!!f.error,helperText:f.helper,autoComplete:"current-password"}),r.createElement(R.Z,{control:r.createElement(M.Z,{value:"remember",color:"primary",onChange:function(e){return Z(e.target.checked)}}),label:"Запомнить меня",checked:E}),r.createElement(F.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Войти"),r.createElement(v.ZP,{container:!0},r.createElement(v.ZP,{item:!0,xs:!0},r.createElement(A.Z,{href:"#",variant:"body2"},"Забыли пароль?"))))),r.createElement(G,{sx:{mt:8,mb:4}})))}var X=n(8641),$={};$.styleTagTransform=Z(),$.setAttributes=f(),$.insert=s().bind(null,"head"),$.domAPI=c(),$.insertStyleElement=h(),o()(X.Z,$),X.Z&&X.Z.locals&&X.Z.locals;var K,ee=n(7896),te=n(9573),ne=n(6011),re=n(3694),le=n(6926),ae=n(8732),oe=n(9708),ie=n(2116),ce=n(6492),ue=n(6867),se=n(1797),me=n(6761),fe=function(e){var t=e.onDelete,n=e.onEdit,l=e.style;return r.createElement(oe.Z,{spacing:1,direction:"row",justifyContent:"center",sx:l},r.createElement(ue.Z,{edge:"end",onClick:n},r.createElement(se.Z,null)),t&&r.createElement(ue.Z,{edge:"end",onClick:t},r.createElement(me.Z,null)))},de=n(3977),he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},he.apply(this,arguments)},Ee=function(e,t,n,r){return new(n||(n=Promise))((function(l,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function i(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},Ze=function(e,t){var n,r,l,a,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(l=2&i[0]?r.return:i[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,i[1])).done)return l;switch(r=0,l&&(i=[2&i[0],l.value]),i[0]){case 0:case 1:l=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((l=(l=o.trys).length>0&&l[l.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!l||i[1]>l[0]&&i[1]<l[3])){o.label=i[1];break}if(6===i[0]&&o.label<l[1]){o.label=l[1],l=i;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(i);break}l[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=l=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},pe=function(e,t){return Ee(void 0,void 0,void 0,(function(){var n,r,l,a;return Ze(this,(function(o){switch(o.label){case 0:n=(0,T.ad)(),r=(0,T.hJ)(n,e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,T.ET)(r,t)];case 2:return l=o.sent(),[2,he(he({},t),{id:l.id})];case 3:return a=o.sent(),[2,Promise.reject(a)];case 4:return[2]}}))}))},ge=function(e,t){return Ee(void 0,void 0,void 0,(function(){var n,r,l;return Ze(this,(function(a){switch(a.label){case 0:n=(0,T.ad)(),r=(0,T.JU)(n,e,t.id),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,T.r7)(r,t)];case 2:return a.sent(),[2,t];case 3:return l=a.sent(),[2,Promise.reject(l)];case 4:return[2]}}))}))},ve=function(e,t){return Ee(void 0,void 0,void 0,(function(){var n,r,l;return Ze(this,(function(a){switch(a.label){case 0:n=(0,T.ad)(),r=(0,T.JU)(n,e,t.id),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,T.oe)(r)];case 2:return a.sent(),[2,t];case 3:return l=a.sent(),[2,Promise.reject(l)];case 4:return[2]}}))}))},ye=function(e){return Ee(void 0,void 0,void 0,(function(){var t,n,r;return Ze(this,(function(l){switch(l.label){case 0:t=(0,T.ad)(),n=[],l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,T.PL)((0,T.hJ)(t,e))];case 2:return l.sent().forEach((function(e){var t=e.data();n.push(he(he({},t),{id:e.id}))})),[3,4];case 3:return r=l.sent(),[2,Promise.reject(r)];case 4:return[2,n]}}))}))},be=n(5029),Se={};Se.styleTagTransform=Z(),Se.setAttributes=f(),Se.insert=s().bind(null,"head"),Se.domAPI=c(),Se.insertStyleElement=h(),o()(be.Z,Se),be.Z&&be.Z.locals&&be.Z.locals;var Ce=function(e){var t=e.children;return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ae.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,r.createElement(S.Z,null,t))))))},xe=n(7501),we={};we.styleTagTransform=Z(),we.setAttributes=f(),we.insert=s().bind(null,"head"),we.domAPI=c(),we.insertStyleElement=h(),o()(xe.Z,we),xe.Z&&xe.Z.locals&&xe.Z.locals;var Ae=n(3838),ke=n(7645),Pe=n(7750),Te=n(6408),We=n(8979),Ie=function(e){var t=e.open,n=e.onClose,l=(e.item,e.onDelete),a=e.children;return r.createElement(Ae.Z,{open:t,onClose:n},r.createElement(ke.Z,null,"Удаление"),r.createElement(Pe.Z,null,r.createElement(Te.Z,null,a)),r.createElement(We.Z,null,r.createElement(F.Z,{onClick:n},"Отмена"),r.createElement(F.Z,{onClick:l},"Подтвердить")))},je=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,a=t.length;l<a;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},ze="news",Oe=function(){var e=(0,l.s0)(),t=(0,r.useState)([]),n=t[0],a=t[1],o=(0,r.useState)(!1),i=o[0],c=o[1],u=(0,r.useState)(null),s=u[0],m=u[1];return(0,r.useEffect)((function(){ye(ze).then((function(e){return a(je([],e,!0))})).catch((function(e){return console.log(e)}))}),[]),r.createElement(b.Z,{my:5},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h3"},"Новости"),r.createElement(F.Z,{variant:"contained",disableElevation:!0,onClick:function(){return e("create")}},"Создать Новость")),r.createElement(Ie,{open:i,onClose:function(){c(!1),m(null)},onDelete:function(){ve(ze,s).then((function(){return ye(ze)})).then((function(e){return t=je([],e,!0),a(t.sort((function(e,t){return e.date>t.date?1:-1})));var t})).catch((function(e){return console.log(e)})).finally((function(){c(!1),m(null)}))},item:null==s?void 0:s.id},'Вы собираетесь удалить новость "',null==s?void 0:s.title,'" ?'),r.createElement(ie.Z,null),n.length>0?r.createElement((function(){return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ne.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,"Дата"),r.createElement(le.Z,null,"Заголовок"),r.createElement(le.Z,{align:"right"},"Действия"))),r.createElement(ae.Z,null,n.map((function(t){return r.createElement(re.Z,null,r.createElement(le.Z,null,t.date),r.createElement(le.Z,null,t.title),r.createElement(le.Z,{align:"right"},r.createElement(fe,{onDelete:function(){m(t),c(!0)},onEdit:function(){m(t),e("edit/"+t.id)},style:{justifyContent:"flex-end"}})))})))))}),null):r.createElement(Ce,null,"Не создано ни одного элемента."),r.createElement(ie.Z,null),r.createElement(oe.Z,{direction:"row",spacing:2,mt:2},r.createElement(ce.Z,{count:10})))},qe=n(6061),De={};De.styleTagTransform=Z(),De.setAttributes=f(),De.insert=s().bind(null,"head"),De.domAPI=c(),De.insertStyleElement=h(),o()(qe.Z,De),qe.Z&&qe.Z.locals&&qe.Z.locals;var Re=function(){return r.createElement(b.Z,{my:5},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h3"},"Прайсы")),r.createElement(ie.Z,null))},Me=n(2198),Fe={};Fe.styleTagTransform=Z(),Fe.setAttributes=f(),Fe.insert=s().bind(null,"head"),Fe.domAPI=c(),Fe.insertStyleElement=h(),o()(Me.Z,Fe),Me.Z&&Me.Z.locals&&Me.Z.locals;const Ve=function(){return r.createElement(b.Z,{my:5},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h3"},"Содать Прайс")),r.createElement(ie.Z,null))};var Be=n(5855),Je={};Je.styleTagTransform=Z(),Je.setAttributes=f(),Je.insert=s().bind(null,"head"),Je.domAPI=c(),Je.insertStyleElement=h(),o()(Be.Z,Je),Be.Z&&Be.Z.locals&&Be.Z.locals;var Ue=n(1714),He=n(6851),Ne={};Ne.styleTagTransform=Z(),Ne.setAttributes=f(),Ne.insert=s().bind(null,"head"),Ne.domAPI=c(),Ne.insertStyleElement=h(),o()(He.Z,Ne),He.Z&&He.Z.locals&&He.Z.locals;var _e=n(1167),Ge=n.n(_e),Le=(n(5097),function(e){var t=e.editorValue,n=e.error,l=e.placeholder,a=e.setEditorValue;return console.log(t),r.createElement(b.Z,{my:2,sx:{borderRadius:"4px",border:n?"1px solid red":"1px solid #eee"}},r.createElement(Ge(),{theme:"snow",value:t,onChange:a,placeholder:l,modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],[{list:"bullet"}],[{align:[]}],[{color:[]},{background:[]}],["link"],["clean"]]},style:{height:"100%"}}))}),Ye=n(2774),Qe=n.n(Ye),Xe=function(){var e=new(Qe()),t=(0,l.s0)(),n=(0,l.UO)().id,a=(0,r.useState)(""),o=a[0],i=a[1],c=(0,r.useState)(""),u=c[0],s=c[1],m=(0,r.useState)(U()),f=m[0],d=m[1],h=(0,r.useState)(""),E=h[0],Z=h[1],p=(0,r.useState)(""),g=p[0],v=p[1],y=(0,r.useState)(!1),C=y[0],x=y[1],w=(0,r.useState)(!1),A=w[0],k=w[1],P=(0,r.useState)(!1),W=P[0],I=P[1],j=(0,r.useState)(!1),z=j[0],O=j[1],q=(0,r.useState)(!1),R=q[0],M=q[1];return(0,r.useEffect)((function(){n&&function(e,t){return Ee(void 0,void 0,void 0,(function(){var n,r,l;return Ze(this,(function(a){switch(a.label){case 0:n=(0,T.ad)(),r=(0,T.JU)(n,e,t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,T.QT)(r)];case 2:return[2,a.sent().data()];case 3:return l=a.sent(),[2,Promise.reject(l)];case 4:return[2]}}))}))}(ze,n).then((function(e){i(e.title),s(e.link),d(e.date),Z(e.announce),v(e.editorValue)}))}),[]),console.log(o,u,f,E,g),r.createElement(b.Z,{my:5},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h3"},"Создать Новость")),r.createElement(ie.Z,null),r.createElement(D.Z,{id:"outlined-basic",label:"Название",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",value:o,onChange:function(e){return i(e.target.value)},error:C}),r.createElement(ue.Z,{edge:"end",onClick:function(){return s((t=o,e.transform(t,"-").toLowerCase()));var t}},r.createElement(Ue.Z,null)),r.createElement(D.Z,{id:"outlined-basic",label:"Символьный код",variant:"outlined",required:!0,fullWidth:!0,margin:"dense",size:"small",value:u,onChange:function(e){return s(e.target.value)},error:A}),r.createElement(D.Z,{id:"outlined-basic",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"date",value:f,onChange:function(e){return d(e.target.value)},error:W}),r.createElement(D.Z,{id:"outlined-basic",label:"Анонс",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",multiline:!0,rows:2,value:E,onChange:function(e){return Z(e.target.value)},error:z}),r.createElement(Le,{placeholder:"Тело новости",editorValue:g,setEditorValue:v,error:R}),r.createElement(oe.Z,{justifyContent:"flex-start",direction:"row",alignItems:"center",mb:4,spacing:2},r.createElement(F.Z,{variant:"contained",disableElevation:!0,onClick:function(){o.length>0&&u.length>0&&f.length>0&&f.match(/\d/)&&E.length>0&&g.length>0?(n?ge(ze,{id:n,title:o,link:u,date:f,announce:E,editorValue:g}).then((function(){return t(-1)})).catch((function(e){return console.log(e)})):pe(ze,{title:o,link:u,date:f,announce:E,editorValue:g}).then((function(){return t(-1)})).catch((function(e){return console.log(e)})).finally((function(){i(""),s(""),d(U()),Z(""),v("")})),x(!1),k(!1),I(!1),O(!1),M(!1)):(0===o.length?x(!0):x(!1),0===u.length?k(!0):k(!1),0===f.length?I(!0):I(!1),0===E.length?O(!0):O(!1),0===g.length?M(!0):M(!1))}},"Сохранить"),r.createElement(F.Z,{variant:"outlined",onClick:function(){return t(-1)}},"Отменить")))},$e=n(9062);const Ke=function(e){var t=e.children,n=I().isAuthenticated,a=(0,l.TH)();return null===n?r.createElement(oe.Z,{justifyContent:"center",alignItems:"center",sx:{minHeight:"100vh"}},r.createElement($e.Z,null)):n?t:r.createElement(l.Fg,{to:"/admin/login",state:{from:a},replace:!0})};var et=n(1562),tt={};tt.styleTagTransform=Z(),tt.setAttributes=f(),tt.insert=s().bind(null,"head"),tt.domAPI=c(),tt.insertStyleElement=h(),o()(et.Z,tt),et.Z&&et.Z.locals&&et.Z.locals;var nt=function(){return r.createElement("div",null,r.createElement(S.Z,{paragraph:!0},r.createElement("h1",null,"Главная"),"Добро пожаловать в Админ-Панель."))},rt=n(761),lt={};lt.styleTagTransform=Z(),lt.setAttributes=f(),lt.insert=s().bind(null,"head"),lt.domAPI=c(),lt.insertStyleElement=h(),o()(rt.Z,lt),rt.Z&&rt.Z.locals&&rt.Z.locals;var at=n(1483),ot={};ot.styleTagTransform=Z(),ot.setAttributes=f(),ot.insert=s().bind(null,"head"),ot.domAPI=c(),ot.insertStyleElement=h(),o()(at.Z,ot),at.Z&&at.Z.locals&&at.Z.locals;var it=n(6186),ct=n(9149),ut=function(e){var t=e.onSave,n=e.isModal,l=e.item,a=e.onClose,o=(0,r.useState)(""),i=o[0],c=o[1],u=(0,r.useState)(10),s=u[0],m=u[1],f=(0,r.useState)(!0),d=f[0],h=f[1],E=(0,r.useState)(!1),Z=E[0],p=E[1],g=(0,r.useState)(!1),v=g[0],y=g[1];return(0,r.useEffect)((function(){l&&(c(l.title),h(l.isShown),m(l.sorting))}),[l]),r.createElement(Ae.Z,{open:n,onClose:a},r.createElement(ke.Z,null,(null==l?void 0:l.hasOwnProperty("id"))?"Редактировать":"Создать"," Элемент"),r.createElement(Pe.Z,{sx:{minWidth:"400px"}},r.createElement(Te.Z,null,"Введите Правовую Форму:"),r.createElement(D.Z,{label:"Правовая Форма",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"text",value:i,onChange:function(e){return c(e.target.value)},error:Z}),r.createElement(D.Z,{label:"Сортировка",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"number",value:s,onChange:function(e){return m(+e.target.value)},error:v}),r.createElement(R.Z,{control:r.createElement(ct.Z,{defaultChecked:!!d,onChange:function(e){return h(e.target.checked)}}),label:"Отображать в публичной части"})),r.createElement(We.Z,null,r.createElement(F.Z,{onClick:a},"Отмена"),r.createElement(F.Z,{onClick:function(){i.length>0&&s?(t(i,d,s),p(!1),y(!1)):(0===i.length?p(!0):p(!1),y(s<1))}},"Сохранить")))},st=function(){return st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},st.apply(this,arguments)},mt=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,a=t.length;l<a;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},ft="legal-form",dt=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],l=(0,r.useState)(!1),a=l[0],o=l[1],i=(0,r.useState)(!1),c=i[0],u=i[1],s=(0,r.useState)(!1),m=s[0],f=s[1],d=(0,r.useState)(null),h=d[0],E=d[1],Z=function(e){return n(e.sort((function(e,t){return e.sorting-t.sorting})))};return(0,r.useEffect)((function(){ye(ft).then((function(e){return Z(mt([],e,!0))})).catch((function(e){return console.log(e)}))}),[]),r.createElement(b.Z,{my:4},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h4"},"Правовая Форма"),r.createElement(F.Z,{variant:"contained",disableElevation:!0,onClick:function(){return o(!0)}},"Создать Правовую Форму")),r.createElement(ut,{isModal:a,onClose:function(){return o(!1)},item:{title:"",isShown:!0,sorting:10},onSave:function(e,t,n){pe(ft,{title:e,isShown:t,sorting:n}).then((function(){return ye(ft)})).then((function(e){return Z(mt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))}}),r.createElement(ut,{isModal:c,onClose:function(){return u(!1)},item:h,onSave:function(e,t,n){ge(ft,st(st({},h),{title:e,isShown:t,sorting:n})).then((function(){return ye(ft)})).then((function(e){return Z(mt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){u(!1),E(null)}))}}),r.createElement(Ie,{open:m,onClose:function(){f(!1),E(null)},onDelete:function(){ve(ft,h).then((function(){return ye(ft)})).then((function(e){return Z(mt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){f(!1),E(null)}))},item:null==h?void 0:h.id},'Вы собираетесь удалить Правовую Форму "',null==h?void 0:h.title,'" ?'),r.createElement(b.Z,{my:2},r.createElement(it.Z,{severity:"info"},"Изменения в этой таблице могут повлиять на уже заполненные прайсы!")),r.createElement(ie.Z,null),t.length>0?r.createElement((function(){return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ne.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,"Правовая Форма"),r.createElement(le.Z,{align:"center"},"Сортировка"),r.createElement(le.Z,{align:"center"},"Отображать в публичной части"),r.createElement(le.Z,{align:"right"},"Действия"))),r.createElement(ae.Z,null,t.map((function(e){return r.createElement(re.Z,null,r.createElement(le.Z,null,e.title),r.createElement(le.Z,{align:"center"},e.sorting),r.createElement(le.Z,{align:"center"},e.isShown&&"Да"),r.createElement(le.Z,{align:"right"},r.createElement(fe,{onDelete:function(){E(e),f(!0)},onEdit:function(){E(e),u(!0)},style:{justifyContent:"flex-end"}})))})))))}),null):r.createElement(Ce,null,"Не создано ни одного элемента."))},ht=n(8357),Et={};Et.styleTagTransform=Z(),Et.setAttributes=f(),Et.insert=s().bind(null,"head"),Et.domAPI=c(),Et.insertStyleElement=h(),o()(ht.Z,Et),ht.Z&&ht.Z.locals&&ht.Z.locals;var Zt=function(e){var t=e.onSave,n=e.isModal,l=e.item,a=e.onClose,o=(0,r.useState)(""),i=o[0],c=o[1],u=(0,r.useState)(""),s=u[0],m=u[1],f=(0,r.useState)(10),d=f[0],h=f[1],E=(0,r.useState)(!0),Z=E[0],p=E[1],g=(0,r.useState)(!1),v=g[0],y=g[1],b=(0,r.useState)(!1),S=b[0],C=b[1];return(0,r.useEffect)((function(){l&&(c(l.title),m(l.shortTitle),p(l.isShown),h(l.sorting))}),[l]),r.createElement(Ae.Z,{open:n,onClose:a},r.createElement(ke.Z,null,(null==l?void 0:l.hasOwnProperty("id"))?"Редактировать":"Создать"," Элемент"),r.createElement(Pe.Z,{sx:{minWidth:"400px"}},r.createElement(Te.Z,null,"Введите Систему Налогообложения:"),r.createElement(D.Z,{label:"Система Налогообложения",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"text",value:i,onChange:function(e){return c(e.target.value)},error:v}),r.createElement(D.Z,{label:"Сокращенное название",variant:"outlined",fullWidth:!0,margin:"normal",size:"small",type:"text",value:s,onChange:function(e){return m(e.target.value)}}),r.createElement(D.Z,{label:"Сортировка",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"number",value:d,onChange:function(e){return h(+e.target.value)},error:S}),r.createElement(R.Z,{control:r.createElement(ct.Z,{defaultChecked:!!Z,onChange:function(e){return p(e.target.checked)}}),label:"Отображать в публичной части"})),r.createElement(We.Z,null,r.createElement(F.Z,{onClick:a},"Отмена"),r.createElement(F.Z,{onClick:function(){i.length>0&&d?(t(i,Z,d,s),y(!1),C(!1)):(0===i.length?y(!0):y(!1),C(d<1))}},"Сохранить")))},pt=function(){return pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},pt.apply(this,arguments)},gt=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,a=t.length;l<a;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},vt="taxation-system",yt=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],l=(0,r.useState)(!1),a=l[0],o=l[1],i=(0,r.useState)(!1),c=i[0],u=i[1],s=(0,r.useState)(!1),m=s[0],f=s[1],d=(0,r.useState)(null),h=d[0],E=d[1],Z=function(e){return n(e.sort((function(e,t){return e.sorting-t.sorting})))};return(0,r.useEffect)((function(){ye(vt).then((function(e){return Z(gt([],e,!0))})).catch((function(e){return console.log(e)}))}),[]),r.createElement(b.Z,{my:4},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h4"},"Система Налогообложения"),r.createElement(F.Z,{variant:"contained",disableElevation:!0,onClick:function(){return o(!0)}},"Создать Систему Налогообложения")),r.createElement(Zt,{isModal:a,onClose:function(){return o(!1)},item:{title:"",isShown:!0,sorting:10,shortTitle:""},onSave:function(e,t,n,r){pe(vt,{title:e,isShown:t,sorting:n,shortTitle:r}).then((function(){return ye(vt)})).then((function(e){return Z(gt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))}}),r.createElement(Zt,{isModal:c,onClose:function(){return u(!1)},item:h,onSave:function(e,t,n,r){ge(vt,pt(pt({},h),{title:e,isShown:t,sorting:n,shortTitle:r})).then((function(){return ye(vt)})).then((function(e){return Z(gt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){u(!1),E(null)}))}}),r.createElement(Ie,{open:m,onClose:function(){f(!1),E(null)},onDelete:function(){ve(vt,h).then((function(){return ye(vt)})).then((function(e){return Z(gt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){f(!1),E(null)}))},item:null==h?void 0:h.id},'Вы собираетесь удалить Систему Налогообложения "',null==h?void 0:h.title,'" ?'),r.createElement(b.Z,{my:2},r.createElement(it.Z,{severity:"info"},"Изменения в этой таблице могут повлиять на уже заполненные прайсы!")),r.createElement(ie.Z,null),t.length>0?r.createElement((function(){return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ne.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,"Система Налогообложения"),r.createElement(le.Z,{align:"center"},"Сокращенное название"),r.createElement(le.Z,{align:"center"},"Сортировка"),r.createElement(le.Z,{align:"center"},"Отображать в публичной части"),r.createElement(le.Z,{align:"right"},"Действия"))),r.createElement(ae.Z,null,t.map((function(e){return r.createElement(re.Z,null,r.createElement(le.Z,null,e.title),r.createElement(le.Z,{align:"center"},e.shortTitle),r.createElement(le.Z,{align:"center"},e.sorting),r.createElement(le.Z,{align:"center"},e.isShown&&"Да"),r.createElement(le.Z,{align:"right"},r.createElement(fe,{onDelete:function(){E(e),f(!0)},onEdit:function(){E(e),u(!0)},style:{justifyContent:"flex-end"}})))})))))}),null):r.createElement(Ce,null,"Не создано ни одного элемента."))},bt=n(5584),St={};St.styleTagTransform=Z(),St.setAttributes=f(),St.insert=s().bind(null,"head"),St.domAPI=c(),St.insertStyleElement=h(),o()(bt.Z,St),bt.Z&&bt.Z.locals&&bt.Z.locals;var Ct=function(e){var t=e.onSave,n=e.isModal,l=e.item,a=e.onClose,o=(0,r.useState)(""),i=o[0],c=o[1],u=(0,r.useState)(0),s=u[0],m=u[1],f=(0,r.useState)(0),d=f[0],h=f[1],E=(0,r.useState)(10),Z=E[0],p=E[1],g=(0,r.useState)(!1),v=g[0],y=g[1],b=(0,r.useState)(!1),S=b[0],C=b[1],x=(0,r.useState)(!1),w=x[0],A=x[1],k=(0,r.useState)(!1),P=k[0],T=k[1];return(0,r.useEffect)((function(){l&&(c(l.title),m(l.min),h(l.max),p(l.sorting))}),[l]),r.createElement(Ae.Z,{open:n,onClose:a},r.createElement(ke.Z,null,(null==l?void 0:l.hasOwnProperty("id"))?"Редактировать":"Создать"," Элемент"),r.createElement(Pe.Z,{sx:{minWidth:"400px"}},r.createElement(Te.Z,null,"Введите Количество Операций:"),r.createElement(D.Z,{label:"Количество Операций",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"text",value:i,onChange:function(e){return c(e.target.value)},error:v}),r.createElement(oe.Z,{justifyContent:"center",direction:"row",alignItems:"center",spacing:2},r.createElement(D.Z,{label:"Минимальное значение",variant:"outlined",required:!0,fullWidth:!0,size:"small",type:"text",sx:{margin:"16px 0"},value:s,onChange:function(e){return m(+e.target.value)},error:w}),r.createElement(D.Z,{label:"Максимальное значение",variant:"outlined",required:!0,fullWidth:!0,size:"small",type:"text",sx:{margin:"16px 0"},value:d,onChange:function(e){return h(+e.target.value)},error:P})),r.createElement(D.Z,{label:"Сортировка",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"number",value:Z,onChange:function(e){return p(+e.target.value)},error:S})),r.createElement(We.Z,null,r.createElement(F.Z,{onClick:a},"Отмена"),r.createElement(F.Z,{onClick:function(){i.length>0&&Z>0&&s>0&&d>0?(t(i,s,d,Z),y(!1),C(!1),A(!1),T(!1)):(0===i.length?y(!0):y(!1),C(Z<1),A(s<1),T(d<1))}},"Сохранить")))},xt=function(){return xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},xt.apply(this,arguments)},wt=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,a=t.length;l<a;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},At="number-of-operations",kt=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],l=(0,r.useState)(!1),a=l[0],o=l[1],i=(0,r.useState)(!1),c=i[0],u=i[1],s=(0,r.useState)(!1),m=s[0],f=s[1],d=(0,r.useState)(null),h=d[0],E=d[1],Z=function(e){return n(e.sort((function(e,t){return e.sorting-t.sorting})))};return(0,r.useEffect)((function(){ye(At).then((function(e){return Z(wt([],e,!0))})).catch((function(e){return console.log(e)}))}),[]),r.createElement(b.Z,{my:4},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h4"},"Количество Операций"),r.createElement(F.Z,{variant:"contained",disableElevation:!0,onClick:function(){return o(!0)}},"Создать Количество Операций")),r.createElement(Ct,{isModal:a,onClose:function(){return o(!1)},item:{title:"",sorting:10,min:0,max:0},onSave:function(e,t,n,r){pe(At,{title:e,sorting:r,min:t,max:n}).then((function(){return ye(At)})).then((function(e){return Z(wt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))}}),r.createElement(Ct,{isModal:c,onClose:function(){return u(!1)},item:h,onSave:function(e,t,n,r){ge(At,xt(xt({},h),{title:e,sorting:r,min:t,max:n})).then((function(){return ye(At)})).then((function(e){return Z(wt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){u(!1),E(null)}))}}),r.createElement(Ie,{open:m,onClose:function(){f(!1),E(null)},onDelete:function(){ve(At,h).then((function(){return ye(At)})).then((function(e){return Z(wt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){f(!1),E(null)}))},item:null==h?void 0:h.id},'Вы собираетесь удалить Количество Операций "',null==h?void 0:h.title,'" ?'),r.createElement(b.Z,{my:2},r.createElement(it.Z,{severity:"info"},"Изменения в этой таблице могут повлиять на уже заполненные прайсы!")),r.createElement(ie.Z,null),t.length>0?r.createElement((function(){return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ne.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,"Название"),r.createElement(le.Z,{align:"center"},"Минимальное значение"),r.createElement(le.Z,{align:"center"},"Максимальное значение"),r.createElement(le.Z,{align:"center"},"Сортировка"),r.createElement(le.Z,{align:"right"},"Действия"))),r.createElement(ae.Z,null,t.map((function(e){return r.createElement(re.Z,null,r.createElement(le.Z,null,e.title),r.createElement(le.Z,{align:"center"},e.min),r.createElement(le.Z,{align:"center"},e.max),r.createElement(le.Z,{align:"center"},e.sorting),r.createElement(le.Z,{align:"right"},r.createElement(fe,{onDelete:function(){E(e),f(!0)},onEdit:function(){E(e),u(!0)},style:{justifyContent:"flex-end"}})))})))))}),null):r.createElement(Ce,null,"Не создано ни одного элемента."))},Pt=n(3301),Tt={};Tt.styleTagTransform=Z(),Tt.setAttributes=f(),Tt.insert=s().bind(null,"head"),Tt.domAPI=c(),Tt.insertStyleElement=h(),o()(Pt.Z,Tt),Pt.Z&&Pt.Z.locals&&Pt.Z.locals;var Wt=function(e){var t=e.onSave,n=e.isModal,l=e.item,a=e.onClose,o=(0,r.useState)(""),i=o[0],c=o[1],u=(0,r.useState)(10),s=u[0],m=u[1],f=(0,r.useState)(!1),d=f[0],h=f[1],E=(0,r.useState)(!1),Z=E[0],p=E[1];return(0,r.useEffect)((function(){l&&(c(l.title),m(l.sorting))}),[l]),r.createElement(Ae.Z,{open:n,onClose:a},r.createElement(ke.Z,null,(null==l?void 0:l.hasOwnProperty("id"))?"Редактировать":"Создать"," Элемент"),r.createElement(Pe.Z,{sx:{minWidth:"400px"}},r.createElement(Te.Z,null,"Введите Тариф:"),r.createElement(D.Z,{label:"Тариф",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"text",value:i,onChange:function(e){return c(e.target.value)},error:d}),r.createElement(D.Z,{label:"Сортировка",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"number",value:s,onChange:function(e){return m(+e.target.value)},error:Z})),r.createElement(We.Z,null,r.createElement(F.Z,{onClick:a},"Отмена"),r.createElement(F.Z,{onClick:function(){i.length>0&&s?(t(i,s),h(!1),p(!1)):(0===i.length?h(!0):h(!1),p(s<1))}},"Сохранить")))},It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},It.apply(this,arguments)},jt=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,a=t.length;l<a;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},zt="tariff-plan",Ot=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],l=(0,r.useState)(!1),a=l[0],o=l[1],i=(0,r.useState)(!1),c=i[0],u=i[1],s=(0,r.useState)(!1),m=s[0],f=s[1],d=(0,r.useState)(null),h=d[0],E=d[1],Z=function(e){return n(e.sort((function(e,t){return e.sorting-t.sorting})))};return(0,r.useEffect)((function(){ye(zt).then((function(e){return Z(jt([],e,!0))})).catch((function(e){return console.log(e)}))}),[]),r.createElement(b.Z,{my:4},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h4"},"Тарифы"),r.createElement(F.Z,{variant:"contained",disableElevation:!0,onClick:function(){return o(!0)}},"Создать Тариф")),r.createElement(Wt,{isModal:a,onClose:function(){return o(!1)},item:{title:"",sorting:10},onSave:function(e,t){pe(zt,{title:e,sorting:t}).then((function(){return ye(zt)})).then((function(e){return Z(jt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))}}),r.createElement(Wt,{isModal:c,onClose:function(){return u(!1)},item:h,onSave:function(e,t){ge(zt,It(It({},h),{title:e,sorting:t})).then((function(){return ye(zt)})).then((function(e){return Z(jt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){u(!1),E(null)}))}}),r.createElement(Ie,{open:m,onClose:function(){f(!1),E(null)},onDelete:function(){ve(zt,h).then((function(){return ye(zt)})).then((function(e){return Z(jt([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){f(!1),E(null)}))},item:null==h?void 0:h.id},'Вы собираетесь удалить Тариф "',null==h?void 0:h.title,'" ?'),r.createElement(b.Z,{my:2},r.createElement(it.Z,{severity:"info"},"Изменения в этой таблице могут повлиять на уже заполненные прайсы!")),r.createElement(ie.Z,null),t.length>0?r.createElement((function(){return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ne.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,"Тариф"),r.createElement(le.Z,{align:"center"},"Сортировка"),r.createElement(le.Z,{align:"right"},"Действия"))),r.createElement(ae.Z,null,t.map((function(e){return r.createElement(re.Z,null,r.createElement(le.Z,null,e.title),r.createElement(le.Z,{align:"center"},e.sorting),r.createElement(le.Z,{align:"right"},r.createElement(fe,{onDelete:function(){E(e),f(!0)},onEdit:function(){E(e),u(!0)},style:{justifyContent:"flex-end"}})))})))))}),null):r.createElement(Ce,null,"Не создано ни одного элемента."))},qt=n(1762),Dt={};Dt.styleTagTransform=Z(),Dt.setAttributes=f(),Dt.insert=s().bind(null,"head"),Dt.domAPI=c(),Dt.insertStyleElement=h(),o()(qt.Z,Dt),qt.Z&&qt.Z.locals&&qt.Z.locals;var Rt=function(e){var t=e.onSave,n=e.isModal,l=e.item,a=e.onClose,o=(0,r.useState)(""),i=o[0],c=o[1],u=(0,r.useState)(""),s=u[0],m=u[1],f=(0,r.useState)(""),d=f[0],h=f[1],E=(0,r.useState)(10),Z=E[0],p=E[1],g=(0,r.useState)(0),v=g[0],y=g[1],b=(0,r.useState)(!1),S=b[0],C=b[1],x=(0,r.useState)(!1),w=x[0],A=x[1],k=(0,r.useState)(!1),P=k[0],T=k[1];return(0,r.useEffect)((function(){l&&(c(l.title),m(l.shortTitle),h(l.popup),p(l.sorting),y(l.percent))}),[l]),r.createElement(Ae.Z,{open:n,onClose:a},r.createElement(ke.Z,null,(null==l?void 0:l.hasOwnProperty("id"))?"Редактировать":"Создать"," Элемент"),r.createElement(Pe.Z,{sx:{minWidth:"400px"}},r.createElement(Te.Z,null,"Введите Надбавку:"),r.createElement(D.Z,{label:"Особенность Деятельности",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"text",value:i,onChange:function(e){return c(e.target.value)},error:S}),r.createElement(D.Z,{label:"Сокращенное название",variant:"outlined",fullWidth:!0,margin:"normal",size:"small",type:"text",value:s,onChange:function(e){return m(e.target.value)}}),r.createElement(D.Z,{label:"Процент",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"number",value:v,onChange:function(e){return y(+e.target.value)},error:P}),r.createElement(D.Z,{label:"Сортировка",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",size:"small",type:"number",value:Z,onChange:function(e){return p(+e.target.value)},error:w}),r.createElement(Le,{placeholder:"Подсказка",editorValue:d,setEditorValue:h,error:!1})),r.createElement(We.Z,null,r.createElement(F.Z,{onClick:a},"Отмена"),r.createElement(F.Z,{onClick:function(){i.length>0&&Z&&v>0?(t(i,s,d,Z,v),C(!1),A(!1),T(!1)):(0===i.length?C(!0):C(!1),A(Z<1),T(v<1))}},"Сохранить")))},Mt=function(){return Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},Mt.apply(this,arguments)},Ft=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,a=t.length;l<a;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},Vt="activity-features",Bt=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],l=(0,r.useState)(!1),a=l[0],o=l[1],i=(0,r.useState)(!1),c=i[0],u=i[1],s=(0,r.useState)(!1),m=s[0],f=s[1],d=(0,r.useState)(null),h=d[0],E=d[1],Z=function(e){return n(e.sort((function(e,t){return e.sorting-t.sorting})))};return(0,r.useEffect)((function(){ye(Vt).then((function(e){return Z(Ft([],e,!0))})).catch((function(e){return console.log(e)}))}),[]),r.createElement(b.Z,{my:4},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h4"},"Особенности Деятельности"),r.createElement(F.Z,{variant:"contained",disableElevation:!0,onClick:function(){return o(!0)}},"Создать Надбавку")),r.createElement(Rt,{isModal:a,onClose:function(){return o(!1)},item:{title:"",shortTitle:"",popup:"",sorting:10,percent:0},onSave:function(e,t,n,r,l){pe(Vt,{title:e,shortTitle:t,sorting:r,percent:l,popup:n}).then((function(){return ye(Vt)})).then((function(e){return Z(Ft([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))}}),r.createElement(Rt,{isModal:c,onClose:function(){return u(!1)},item:h,onSave:function(e,t,n,r,l){ge(Vt,Mt(Mt({},h),{title:e,shortTitle:t,sorting:r,percent:l,popup:n})).then((function(){return ye(Vt)})).then((function(e){return Z(Ft([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){u(!1),E(null)}))}}),r.createElement(Ie,{open:m,onClose:function(){f(!1),E(null)},onDelete:function(){ve(Vt,h).then((function(){return ye(Vt)})).then((function(e){return Z(Ft([],e,!0))})).catch((function(e){return console.log(e)})).finally((function(){f(!1),E(null)}))},item:null==h?void 0:h.id},'Вы собираетесь удалить Особенности Деятельности "',null==h?void 0:h.title,'" ?'),r.createElement(ie.Z,null),t.length>0?r.createElement((function(){return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ne.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,"Особенности Деятельности"),r.createElement(le.Z,null,"Сокращенное название"),r.createElement(le.Z,{align:"center"},"Процент, %"),r.createElement(le.Z,{align:"center"},"Сортировка"),r.createElement(le.Z,{align:"right"},"Действия"))),r.createElement(ae.Z,null,t.map((function(e){return r.createElement(re.Z,null,r.createElement(le.Z,null,e.title),r.createElement(le.Z,null,e.shortTitle),r.createElement(le.Z,{align:"center"},e.percent),r.createElement(le.Z,{align:"center"},e.sorting),r.createElement(le.Z,{align:"right"},r.createElement(fe,{onDelete:function(){E(e),f(!0)},onEdit:function(){E(e),u(!0)},style:{justifyContent:"flex-end"}})))})))))}),null):r.createElement(Ce,null,"Не создано ни одного элемента."))},Jt=function(){return r.createElement(b.Z,{my:5},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h3"},"Настройки Проекта")),r.createElement(ie.Z,null),r.createElement(dt,null),r.createElement(yt,null),r.createElement(kt,null),r.createElement(Ot,null),r.createElement(Bt,null))},Ut=n(4013),Ht={};Ht.styleTagTransform=Z(),Ht.setAttributes=f(),Ht.insert=s().bind(null,"head"),Ht.domAPI=c(),Ht.insertStyleElement=h(),o()(Ut.Z,Ht),Ut.Z&&Ut.Z.locals&&Ut.Z.locals;var Nt=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],l=(0,r.useState)([]),a=l[0],o=l[1],i=(0,r.useState)([]),c=i[0],u=i[1],s=(0,r.useState)([]),m=s[0],f=s[1],d=(0,r.useState)([]),h=d[0],E=d[1];function Z(e,t){var n=e.find((function(e){return e.id===t}));return n?n.title:null}return(0,r.useEffect)((function(){var e=[{collection:ft,arr:t,cb:n},{collection:vt,arr:a,cb:o},{collection:At,arr:c,cb:u},{collection:zt,arr:m,cb:f}];Promise.all(e.map((function(e){var t,n,r,l,a=e.collection;return t=void 0,n=void 0,l=function(){return function(e,t){var n,r,l,a,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(l=2&i[0]?r.return:i[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,i[1])).done)return l;switch(r=0,l&&(i=[2&i[0],l.value]),i[0]){case 0:case 1:l=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((l=(l=o.trys).length>0&&l[l.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!l||i[1]>l[0]&&i[1]<l[3])){o.label=i[1];break}if(6===i[0]&&o.label<l[1]){o.label=l[1],l=i;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(i);break}l[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=l=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(e){switch(e.label){case 0:return[4,ye(a)];case 1:return[2,e.sent()]}}))},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{c(l.next(e))}catch(e){a(e)}}function i(e){try{c(l.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,i)}c((l=l.apply(t,n||[])).next())}))}))).then((function(t){e.forEach((function(e,n){e.arr,(0,e.cb)(t[n].sort((function(e,t){return e.sorting-t.sorting})))}))})).catch((function(e){return console.log(e)}))}),[]),(0,r.useEffect)((function(){if(t.length>0&&a.length>0&&c.length>0&&m.length>0){var e=[];t.forEach((function(t){m.forEach((function(n){e.push({tariffPlanId:n.id,legalFormId:t.id,data:c.map((function(e){return{tariffPlanId:n.id,legalFormId:t.id,numberOfOperationsId:e.id,data_1:a.map((function(e){return{taxationSystemId:e.id,value:0}}))}}))})}))})),E(e)}}),[t,a,c,m]),console.log(h),r.createElement(b.Z,{my:5},r.createElement(oe.Z,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:2,px:1},r.createElement(S.Z,{variant:"h3"},"Тарифы")),r.createElement((function(){return r.createElement(ee.Z,null,r.createElement(te.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table"},r.createElement(ne.Z,null,r.createElement(re.Z,null,r.createElement(le.Z,null,"Количество операций"),a.map((function(e){return r.createElement(le.Z,null,e.shortTitle?e.shortTitle:e.title)})),r.createElement(le.Z,{align:"right"},"Действия"))),r.createElement(ae.Z,null,h.map((function(e){var n=e.tariffPlanId,l=e.legalFormId,o=e.data;return r.createElement(r.Fragment,null,r.createElement(re.Z,null,r.createElement(le.Z,{colSpan:a.length+2},r.createElement(S.Z,{variant:"h6"},Z(t,l)+" - "+Z(m,n)))),o.map((function(e){var t=e.numberOfOperationsId,n=e.data_1;return r.createElement(re.Z,null,r.createElement(le.Z,null,Z(c,t)),n.map((function(e){e.taxationSystemId;var t=e.value;return r.createElement(le.Z,{align:"center"},t)})),r.createElement(le.Z,{align:"right"},r.createElement(fe,{onEdit:function(){},style:{justifyContent:"flex-end"}})))})))})))))}),null))},_t=(K=(0,de.ZF)({apiKey:"AIzaSyBasNC-pNvXbfaF3k8bmyBcqBuAJlkfJXI",authDomain:"buhetalon-3.firebaseapp.com",projectId:"buhetalon-3",storageBucket:"buhetalon-3.appspot.com",messagingSenderId:"989648534763",appId:"1:989648534763:web:c19d3e7433d52b54dd12ae"}),(0,P.v0)(K),(0,T.ad)(K),K);const Gt=function(){return r.createElement(j,{firebaseApp:_t},r.createElement(l.Z5,null,r.createElement(l.AW,{element:r.createElement(l.Fg,{to:"/admin/home",replace:!0}),index:!0}),r.createElement(l.AW,{path:"login",element:r.createElement(Q,null)}),r.createElement(l.AW,{element:r.createElement(Ke,null,r.createElement(z,null))},r.createElement(l.AW,{path:"home",element:r.createElement(Ke,null,r.createElement(nt,null))}),r.createElement(l.AW,{path:"news"},r.createElement(l.AW,{element:r.createElement(Ke,null,r.createElement(Oe,null)),index:!0}),r.createElement(l.AW,{path:"create",element:r.createElement(Ke,null,r.createElement(Xe,null))}),r.createElement(l.AW,{path:"edit/:id",element:r.createElement(Ke,null,r.createElement(Xe,null))})),r.createElement(l.AW,{path:"price"},r.createElement(l.AW,{element:r.createElement(Ke,null,r.createElement(Re,null)),index:!0}),r.createElement(l.AW,{path:"create",element:r.createElement(Ke,null,r.createElement(Ve,null))}),r.createElement(l.AW,{path:"edit/:id",element:r.createElement(Ke,null,r.createElement(Ve,null))})),r.createElement(l.AW,{path:"settings",element:r.createElement(Ke,null,r.createElement(Jt,null))}),r.createElement(l.AW,{path:"tariff",element:r.createElement(Ke,null,r.createElement(Nt,null))}))))}}}]);
//# sourceMappingURL=main-e2e1cf62105c3dadd8ae.js.map